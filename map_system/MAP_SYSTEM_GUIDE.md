# è‰¾å…°æäºšä¸–ç•Œåœ°å›¾ç³»ç»ŸæŒ‡å—

## ğŸ—ºï¸ ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„D&Dåœ°å›¾å¯¼èˆªç³»ç»Ÿï¼Œä¸“ä¸ºè‰¾å…°æäºšä¸–ç•Œè®¾è®¡ã€‚ç³»ç»Ÿæ”¯æŒï¼š
- å››å¤§åŒºåŸŸé—´çš„æ— ç¼å¯¼èˆª
- å­åŒºåŸŸæ¢ç´¢
- è·¯å¾„è§„åˆ’
- åœ°ç‚¹æœç´¢
- ç­‰çº§é€‚é…å»ºè®®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1ï¼šäº¤äº’å¼å‘½ä»¤è¡Œ
```bash
python3 map_system.py
```

### æ–¹æ³•2ï¼šé›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ
```python
from map_system import AetheriaMap

# åˆ›å»ºåœ°å›¾å®ä¾‹
world = AetheriaMap()

# è·å–å½“å‰ä½ç½®ä¿¡æ¯
info = world.get_current_location_info()
print(info)

# ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®
world.move_to("é½¿è½®ä¹‹åŸ")
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ä¸–ç•Œç»“æ„
- **è£‚æ˜Ÿé›†** - ä¸­å¿ƒæ¢çº½ï¼Œæ‰€æœ‰å†’é™©çš„èµ·ç‚¹
- **é½¿è½®ä¹‹åŸ** - ç§‘æŠ€éƒ½å¸‚ï¼ŒçœŸç©ºç®¡ç§‘æŠ€å·…å³°
- **ç§˜æ³•ä¹‹ä¹¡** - é­”æ³•åœ£åœ°ï¼Œä¹å¡”å€’æ‚¬
- **ç¿¡ç¿ ä¹‹æ£®** - ç²¾çµé¢†åœ°ï¼Œ800å¹´å¯¿å‘½å¥¥ç§˜
- **å¤©ç©¹æ­¦æœ** - æ­¦é“åœ£åœ°ï¼Œä¹å®«æ ¼å±±æ°´

### 2. åœ°ç‚¹ç±»å‹
- **Hub**: ä¸­å¿ƒæ¢çº½ï¼Œè¿æ¥æ‰€æœ‰åŒºåŸŸ
- **City**: åŸå¸‚åŒºåŸŸï¼Œç§‘æŠ€/å•†ä¸šå‘è¾¾
- **Magical**: é­”æ³•åŒºåŸŸï¼Œæ³•æœ¯ç ”ç©¶
- **Forest**: æ£®æ—åŒºåŸŸï¼Œè‡ªç„¶é­”æ³•
- **Martial**: æ­¦é“åŒºåŸŸï¼ŒçœŸæ°”ä¿®ç‚¼

### 3. ç­‰çº§èŒƒå›´
æ¯ä¸ªåŒºåŸŸéƒ½æœ‰æ¨èçš„ç­‰çº§èŒƒå›´ï¼š
- è£‚æ˜Ÿé›†: 1-20 (å…¨ç­‰çº§)
- é½¿è½®ä¹‹åŸ: 5-15
- ç§˜æ³•ä¹‹ä¹¡: 3-18
- ç¿¡ç¿ ä¹‹æ£®: 7-20
- å¤©ç©¹æ­¦æœ: 4-17

## ğŸ”§ å‘½ä»¤è¡Œä½¿ç”¨

### åŸºç¡€å‘½ä»¤
```
look                    - æŸ¥çœ‹å½“å‰ä½ç½®è¯¦ç»†ä¿¡æ¯
go [åœ°ç‚¹]               - å‰å¾€æŒ‡å®šä½ç½®
map                     - æ˜¾ç¤ºä¸–ç•Œåœ°å›¾
path [åœ°ç‚¹]             - æ˜¾ç¤ºåˆ°æŒ‡å®šä½ç½®çš„è·¯å¾„
where                   - æ˜¾ç¤ºå½“å‰ä½ç½®å’Œå¯å‰å¾€åœ°ç‚¹
discovered              - æ˜¾ç¤ºå·²å‘ç°çš„åœ°ç‚¹
search [å…³é”®è¯]         - æœç´¢åœ°ç‚¹
help                    - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
quit/exit               - é€€å‡ºç³»ç»Ÿ
```

### ä½¿ç”¨ç¤ºä¾‹
```
[ğŸ—ºï¸  è£‚æ˜Ÿé›†] > look
ğŸ“ å½“å‰ä½ç½®: è£‚æ˜Ÿé›†
ğŸ“ æè¿°: ä¸­ç«‹åŸå¯¨ï¼Œå››å›½äº¤æ±‡çš„å†’é™©è€…èšé›†åœ°
ğŸ”— å¯å‰å¾€: é½¿è½®ä¹‹åŸ, ç§˜æ³•ä¹‹ä¹¡, ç¿¡ç¿ ä¹‹æ£®, å¤©ç©¹æ­¦æœ

[ğŸ—ºï¸  è£‚æ˜Ÿé›†] > go é½¿è½®ä¹‹åŸ
âœ… å·²å‰å¾€: é½¿è½®ä¹‹åŸ

[ğŸ—ºï¸  é½¿è½®ä¹‹åŸ] > look
ğŸ“ å½“å‰ä½ç½®: é½¿è½®ä¹‹åŸ
ğŸ“ æè¿°: é˜¿æ–¯å›¾é‡Œäºš - äº‘å±‚éƒ½å¸‚ï¼ŒçœŸç©ºç®¡ç§‘æŠ€å·…å³°
ğŸ›ï¸ å­åŒºåŸŸ:
   â€¢ ä¸ƒç‚‰è®®ä¼š: é½¿è½®åŸæœ€é«˜æƒåŠ›æœºæ„...
   â€¢ é»‘æ‰³æ‰‹æ€»éƒ¨: å·¥äººè¡Œä¼šç§˜å¯†åŸºåœ°...
   â€¢ åºŸå¼ƒé›¾æ ¹: åœ°è¡¨åºŸå¼ƒåŒºåŸŸ...
```

## ğŸ”„ ç³»ç»Ÿé›†æˆ

### ä¸æˆ˜æ–—ç³»ç»Ÿé›†æˆ
```python
# åŸºäºä½ç½®çš„é­é‡ç”Ÿæˆ
location_encounters = {
    "é½¿è½®ä¹‹åŸ": ["æœºæ¢°å®ˆå«", "é»‘æ‰³æ‰‹é—´è°", "ä»¥å¤ªç”µæµæ³„æ¼"],
    "ç§˜æ³•ä¹‹ä¹¡": ["æ˜Ÿå›¾ç ”ç©¶å‘˜", "é˜¶æ¢¯æ³•å¸ˆ", "ä»¥å¤ªç—…æ„ŸæŸ“è€…"],
    "ç¿¡ç¿ ä¹‹æ£®": ["ç²¾çµå“¨å…µ", "æ˜Ÿè¾‰å…½", "æ¯æ ‘å®ˆå«"],
    "å¤©ç©¹æ­¦æœ": ["çœŸæ°”æ­¦è€…", "å‰‘åœ£ä¼ äºº", "å·¨æ„å®ˆå«"]
}

# è·å–å½“å‰ä½ç½®é­é‡
current_location = world.current_location
encounters = location_encounters.get(current_location, [])
```

### ä¸ä»»åŠ¡ç³»ç»Ÿé›†æˆ
```python
# åŸºäºç­‰çº§çš„åŒºåŸŸé™åˆ¶
player_level = 8
for loc_name, loc_data in world.map_data.items():
    level_range = loc_data.get("level_range", "1-20")
    min_level, max_level = map(int, level_range.split("-"))
    
    if min_level <= player_level <= max_level:
        print(f"{loc_name}: é€‚åˆæ¢ç´¢")
```

## ğŸ“Š åœ°å›¾æ•°æ®ç»“æ„

### åœ°ç‚¹ä¿¡æ¯ç»“æ„
```python
{
    "name": "åœ°ç‚¹åç§°",
    "description": "è¯¦ç»†æè¿°",
    "type": "åœ°ç‚¹ç±»å‹",
    "connections": ["å¯å‰å¾€çš„åœ°ç‚¹åˆ—è¡¨"],
    "lore": "èƒŒæ™¯æ•…äº‹",
    "level_range": "æ¨èç­‰çº§èŒƒå›´",
    "coordinates": (x, y),  # åœ°å›¾åæ ‡
    "sub_locations": {
        "å­åŒºåŸŸåç§°": "å­åŒºåŸŸæè¿°"
    }
}
```

## ğŸ® æ‰©å±•å»ºè®®

### 1. æ·»åŠ æ›´å¤šå­åŒºåŸŸ
```python
# åœ¨åœ°å›¾æ•°æ®ä¸­å¢åŠ æ›´å¤šå­åŒºåŸŸ
"sub_locations": {
    "æ–°åŒºåŸŸ": "æ–°åŒºåŸŸæè¿°",
    "éšè—åŒºåŸŸ": "éœ€è¦ç‰¹æ®Šæ¡ä»¶æ‰èƒ½è¿›å…¥"
}
```

### 2. æ·»åŠ ä¼ é€é—¨/å¿«é€Ÿæ—…è¡Œ
```python
# æ·»åŠ ç‰¹æ®Šè¿æ¥
"connections": ["æ­£å¸¸è¿æ¥", "ä¼ é€é—¨:ç‰¹æ®Šåœ°ç‚¹"]
```

### 3. æ·»åŠ å¤©æ°”/æ—¶é—´å½±å“
```python
# æ‰©å±•åœ°ç‚¹æ•°æ®
"weather_effects": {
    "é›¨å¤©": "å½±å“æŸäº›æ³•æœ¯",
    "å¤œæ™š": "å‡ºç°ç‰¹æ®Šæ•Œäºº"
}
```

### 4. æ·»åŠ å•†åº—/æœåŠ¡
```python
# æ·»åŠ æœåŠ¡ä¿¡æ¯
"services": {
    "å•†åº—": ["è£…å¤‡", "è¯æ°´"],
    "è®­ç»ƒå¸ˆ": ["æŠ€èƒ½å‡çº§", "èŒä¸šè½¬æ¢"]
}
```

## ğŸ› ï¸ æŠ€æœ¯ç»†èŠ‚

### ä¾èµ–
- Python 3.6+
- æ ‡å‡†åº“ (cmd, json, os, sys)

### æ–‡ä»¶ç»“æ„
```
map_system.py      # ä¸»åœ°å›¾ç³»ç»Ÿ
demo_map.py        # æ¼”ç¤ºè„šæœ¬
start_map.sh       # å¯åŠ¨è„šæœ¬
MAP_SYSTEM_GUIDE.md # æœ¬æŒ‡å—
```

### æ€§èƒ½è€ƒè™‘
- ä½¿ç”¨BFSç®—æ³•è¿›è¡Œè·¯å¾„æŸ¥æ‰¾
- å†…å­˜ä¸­å­˜å‚¨æ‰€æœ‰åœ°ç‚¹æ•°æ®
- æ”¯æŒå¿«é€ŸæŸ¥è¯¢å’Œå¯¼èˆª

## ğŸ¨ è‡ªå®šä¹‰

### æ·»åŠ æ–°åœ°ç‚¹
```python
# åœ¨_initialize_worldæ–¹æ³•ä¸­æ·»åŠ 
"æ–°åœ°ç‚¹": {
    "description": "æ–°åœ°ç‚¹æè¿°",
    "connections": ["è¿æ¥åœ°ç‚¹1", "è¿æ¥åœ°ç‚¹2"],
    "type": "æ–°ç±»å‹",
    "coordinates": (x, y)
}
```

### ä¿®æ”¹ç°æœ‰åœ°ç‚¹
ç›´æ¥ç¼–è¾‘`map_system.py`ä¸­çš„`_initialize_world`æ–¹æ³•å³å¯ã€‚

## ğŸ“ æ”¯æŒ

å¦‚éœ€å¸®åŠ©æˆ–å»ºè®®ï¼Œè¯·æŸ¥çœ‹ï¼š
- ä½¿ç”¨`help`å‘½ä»¤è·å–å†…ç½®å¸®åŠ©
- æŸ¥çœ‹`demo_map.py`è·å–ä½¿ç”¨ç¤ºä¾‹
- é˜…è¯»ä¸–ç•Œè®¾å®šæ–‡æ¡£äº†è§£èƒŒæ™¯
